<!-- Overlay for mobile -->
@if (isOpen) {
  <div
    class="fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden"
    (click)="closeSidebar()"
  ></div>
}

<!-- Sidebar -->
<aside
  [class]="
    'fixed top-0 left-0 h-full bg-white shadow-lg border-r border-gray-200 z-40 transition-transform duration-300 ' +
    (isOpen ? 'translate-x-0' : '-translate-x-full')
  "
  [style.width]="'16rem'"
  [style.margin-top]="'4rem'"
>
  <div class="flex flex-col h-full">
    <!-- Close button (mobile only) -->
    <div class="lg:hidden flex justify-end p-4">
      <button
        (click)="closeSidebar()"
        class="p-2 rounded-md text-gray-600 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-primary-500"
      >
        <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
    </div>

    <!-- Navigation Menu -->
    <nav class="flex-1 px-4 py-6 space-y-2">
      @for (item of menuItems; track item.route) {
        <a
          [routerLink]="item.route"
          routerLinkActive="bg-primary-50 text-primary-700 font-semibold"
          [routerLinkActiveOptions]="{ exact: false }"
          class="flex items-center px-4 py-3 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors duration-200 group"
        >
          <svg class="h-5 w-5 mr-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" [attr.d]="item.icon" />
          </svg>
          <span>{{ item.label }}</span>
        </a>
      }
    </nav>

    <!-- Footer -->
    <div class="p-4 border-t border-gray-200">
      <div class="text-xs text-gray-500 text-center">
        <p>PriceOptimizer v1.0</p>
        <p class="mt-1">Â© 2025</p>
      </div>
    </div>
  </div>
</aside>
